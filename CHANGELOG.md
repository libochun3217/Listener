# v1.7.3

## 优化和修复

- 首页-订阅列表-右下角按钮遮挡
- 订阅 checkUpdateUrl 支持相对地址

## v1.7.2

- 修复选择器关系操作符的缓存错误导致某些情况下无法正确选择节点

## v1.7.1

- 订阅的应用列表点击右侧开关后无故滑动到顶部

## v1.7.0

- 使用新的应用图标
- 规避法律风险, 移除自带的默认订阅, 新安装应用初始状态不带任何规则(旧用户不受影响)
- 主页-新增应用TAB, 可在此查看此应用的规则汇总, 也可跳转至本地订阅新增规则
- 主页-新增使用说明, 点击即可跳转 GKD 官网
- 主页-新增缓慢查询页面入口, 此界面会标识哪些规则可能导致查询缓慢或更多耗电
- 全局规则页面-新增自定义禁用界面,此界面显示所有应用列表及其开关
- 触发记录页面-新增移除禁用(用户点击此页面禁用后再点击即可移除禁用)
- 高级设置界面-开启服务器后点击地址或在电脑上浏览器地址栏输入即可自动跳转并连接
- 应用规则界面-不再强制显示裁剪后圆形应用图标, 但如果在系统主题切换桌面图标, 你需要重启 GKD 才能更新显示 GKD 获取到的图标
- 优化 toast 显示策略, 并修复 toast 显示位置不准确的问题
- 设置-点击提示的初始默认值由 跳过 变更为 GKD (旧用户不受影响)
- 订阅-新增 matchSystemApp 字段, 此字段允许全局规则不匹配系统应用
- 订阅-新增 scopeKeys 字段, 此字段允许多个规则组共享作用域
- 订阅-新增 order 字段, 此字段允许规则自定义执行顺序
- 订阅-新增 versionCodes/excludeVersionCodes/versionNames/excludeVersionNames 筛选应用版本
- 订阅-新增 position 字段, 使用数字表达式允许用户计算自定义点击位置
- 订阅-新增 forcedTime 字段, 可以主动查询界面(无需系统通知), 解决某些 flutter/webview/特殊SDK 页面不点击的问题(因为它们改变页面不通知系统)
- 优化选择器在使用元组表达式时仍然获取未使用节点造成更多耗时的问题, 如旧版本 -(1,4) 仍然调用获取节点 2,3 的接口造成更多耗时
- 优化选择器在使用 +- 连接符造成更多耗时的问题, 使用缓存记录 index 而无需回溯批量获取兄弟节点
- 选择器新增属性表达式类型严格校验, 操作符类型不匹配如 a>false 将会报语法错误 (已更新到审查工具)
- 选择器新增属性名校验, 属性名类型不匹配如 index='' 和未知属性 a114514>0 将会标记非法选择器 (已更新到审查工具)
- 选择器属性表达式的值新增支持负数, 旧版本仅支持 10 进制自然数, 新版本支持 10 进制整数
- 选择器-新增 `~=`/`!~=` 操作符, 支持匹配正则表达式和特殊匹配优化
- 优化 click 的执行逻辑, 如果点击节点不成功将使用 clickCenter, 注意点击不成功只是系统返回结果, 并不代表应用接受点击
- 在有 shizuku 授权的情况下, clickCenter 为强制模拟点击, 这可以绕过某些应用的无障碍防御
- 优化了大号字体造成字体显示被裁剪的问题
- 优化了一些界面上的体验
- 修复一些错误

## 通过以下任意方式更新

- 打开 APP - 设置 - 检测更新
- 前往首页 <https://gkd.li/guide/>
- 通过 github [releases](https://github.com/gkd-kit/gkd/releases)
